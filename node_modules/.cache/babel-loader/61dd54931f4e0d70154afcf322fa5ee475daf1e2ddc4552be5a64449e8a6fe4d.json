{"ast":null,"code":"/**\n * Service pour récupérer et afficher le compteur social proof\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\n\n/**\n * Récupère les statistiques du compteur depuis l'API\n */\nasync function getStats() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/stats`);\n    if (!response.ok) {\n      throw new Error('Erreur lors de la récupération des stats');\n    }\n    const data = await response.json();\n    return data.counter || {\n      total: 0,\n      today: 0,\n      formatted: {\n        total: '0',\n        today: '0'\n      }\n    };\n  } catch (error) {\n    console.error('[COUNTER] Erreur:', error);\n    // Retourner des valeurs par défaut en cas d'erreur\n    return {\n      total: 0,\n      today: 0,\n      formatted: {\n        total: '0',\n        today: '0'\n      }\n    };\n  }\n}\n\n/**\n * Formate un nombre pour l'affichage (ex: 1234 -> \"1.2k\")\n */\nfunction formatNumber(num) {\n  if (num < 1000) return num.toString();\n  if (num < 1000000) return (num / 1000).toFixed(1) + 'k';\n  return (num / 1000000).toFixed(1) + 'M';\n}\nexport default {\n  getStats,\n  formatNumber\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","getStats","response","fetch","ok","Error","data","json","counter","total","today","formatted","error","console","formatNumber","num","toString","toFixed"],"sources":["/Users/ares/DEV/Visibility strategy score/frontend/src/services/counter.js"],"sourcesContent":["/**\n * Service pour récupérer et afficher le compteur social proof\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\n\n/**\n * Récupère les statistiques du compteur depuis l'API\n */\nasync function getStats() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/stats`);\n    if (!response.ok) {\n      throw new Error('Erreur lors de la récupération des stats');\n    }\n    const data = await response.json();\n    return data.counter || { total: 0, today: 0, formatted: { total: '0', today: '0' } };\n  } catch (error) {\n    console.error('[COUNTER] Erreur:', error);\n    // Retourner des valeurs par défaut en cas d'erreur\n    return { total: 0, today: 0, formatted: { total: '0', today: '0' } };\n  }\n}\n\n/**\n * Formate un nombre pour l'affichage (ex: 1234 -> \"1.2k\")\n */\nfunction formatNumber(num) {\n  if (num < 1000) return num.toString();\n  if (num < 1000000) return (num / 1000).toFixed(1) + 'k';\n  return (num / 1000000).toFixed(1) + 'M';\n}\n\nexport default {\n  getStats,\n  formatNumber\n};\n\n"],"mappings":"AAAA;AACA;AACA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,EAAE;;AAExD;AACA;AACA;AACA,eAAeC,QAAQA,CAAA,EAAG;EACxB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,YAAY,YAAY,CAAC;IACzD,IAAI,CAACK,QAAQ,CAACE,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,0CAA0C,CAAC;IAC7D;IACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI,CAACE,OAAO,IAAI;MAAEC,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,SAAS,EAAE;QAAEF,KAAK,EAAE,GAAG;QAAEC,KAAK,EAAE;MAAI;IAAE,CAAC;EACtF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;IACzC;IACA,OAAO;MAAEH,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,SAAS,EAAE;QAAEF,KAAK,EAAE,GAAG;QAAEC,KAAK,EAAE;MAAI;IAAE,CAAC;EACtE;AACF;;AAEA;AACA;AACA;AACA,SAASI,YAAYA,CAACC,GAAG,EAAE;EACzB,IAAIA,GAAG,GAAG,IAAI,EAAE,OAAOA,GAAG,CAACC,QAAQ,CAAC,CAAC;EACrC,IAAID,GAAG,GAAG,OAAO,EAAE,OAAO,CAACA,GAAG,GAAG,IAAI,EAAEE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;EACvD,OAAO,CAACF,GAAG,GAAG,OAAO,EAAEE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;AACzC;AAEA,eAAe;EACbhB,QAAQ;EACRa;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}