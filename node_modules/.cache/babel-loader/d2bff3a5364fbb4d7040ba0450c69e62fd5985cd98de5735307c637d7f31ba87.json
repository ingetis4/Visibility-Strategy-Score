{"ast":null,"code":"var _jsxFileName = \"/Users/ares/DEV/Visibility strategy score/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Form from './components/Form';\nimport Results from './components/Results';\nimport Loading from './components/Loading';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport CalendlyModal from './components/CalendlyModal';\nimport LegalModal from './components/LegalModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [analyzingUrl, setAnalyzingUrl] = useState(null);\n  const [isCalendlyOpen, setIsCalendlyOpen] = useState(false);\n  const [isLegalModalOpen, setIsLegalModalOpen] = useState(false);\n  const [legalModalType, setLegalModalType] = useState('conditions');\n  const [userData, setUserData] = useState(null);\n  const handleAnalyze = async formData => {\n    setLoading(true);\n    setError(null);\n    setResults(null);\n    setAnalyzingUrl(formData.url);\n    try {\n      const response = await fetch('/api/analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Erreur lors de l\\'analyse');\n      }\n      const data = await response.json();\n      setResults(data);\n      // Stocker les données utilisateur pour le modal Calendly\n      setUserData({\n        ...formData,\n        results: data\n      });\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n      setAnalyzingUrl(null);\n    }\n  };\n  const handleReset = () => {\n    setResults(null);\n    setError(null);\n    setAnalyzingUrl(null);\n    setUserData(null);\n  };\n  const handleOpenCalendly = data => {\n    setUserData(data);\n    setIsCalendlyOpen(true);\n  };\n  const handleCalendlyClose = () => {\n    setIsCalendlyOpen(false);\n  };\n  const handleEventScheduled = async data => {\n    // Envoyer les données à l'API pour l'email\n    try {\n      await fetch('/api/confirm-appointment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n    } catch (err) {\n      console.error('Erreur lors de l\\'envoi de la confirmation:', err);\n    }\n  };\n  useEffect(() => {\n    const handleOpenLegalModal = e => {\n      setLegalModalType(e.detail);\n      setIsLegalModalOpen(true);\n    };\n    window.addEventListener('openLegalModal', handleOpenLegalModal);\n    return () => {\n      window.removeEventListener('openLegalModal', handleOpenLegalModal);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: `main-content ${!results && !loading ? 'no-scroll' : ''}`,\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {\n        url: analyzingUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : !results ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fade-in\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleAnalyze,\n          loading: loading,\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fade-in\",\n        children: /*#__PURE__*/_jsxDEV(Results, {\n          data: results,\n          onReset: handleReset\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YQ1ErzQb8nymj7KRVtfdSlTAeDo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Form","Results","Loading","Header","Footer","CalendlyModal","LegalModal","jsxDEV","_jsxDEV","App","_s","results","setResults","loading","setLoading","error","setError","analyzingUrl","setAnalyzingUrl","isCalendlyOpen","setIsCalendlyOpen","isLegalModalOpen","setIsLegalModalOpen","legalModalType","setLegalModalType","userData","setUserData","handleAnalyze","formData","url","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","data","err","message","handleReset","handleOpenCalendly","handleCalendlyClose","handleEventScheduled","console","handleOpenLegalModal","e","detail","window","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onReset","_c","$RefreshReg$"],"sources":["/Users/ares/DEV/Visibility strategy score/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Form from './components/Form';\nimport Results from './components/Results';\nimport Loading from './components/Loading';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport CalendlyModal from './components/CalendlyModal';\nimport LegalModal from './components/LegalModal';\n\nfunction App() {\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [analyzingUrl, setAnalyzingUrl] = useState(null);\n  const [isCalendlyOpen, setIsCalendlyOpen] = useState(false);\n  const [isLegalModalOpen, setIsLegalModalOpen] = useState(false);\n  const [legalModalType, setLegalModalType] = useState('conditions');\n  const [userData, setUserData] = useState(null);\n\n  const handleAnalyze = async (formData) => {\n    setLoading(true);\n    setError(null);\n    setResults(null);\n    setAnalyzingUrl(formData.url);\n\n    try {\n      const response = await fetch('/api/analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Erreur lors de l\\'analyse');\n      }\n\n      const data = await response.json();\n      setResults(data);\n      // Stocker les données utilisateur pour le modal Calendly\n      setUserData({\n        ...formData,\n        results: data\n      });\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n      setAnalyzingUrl(null);\n    }\n  };\n\n  const handleReset = () => {\n    setResults(null);\n    setError(null);\n    setAnalyzingUrl(null);\n    setUserData(null);\n  };\n\n  const handleOpenCalendly = (data) => {\n    setUserData(data);\n    setIsCalendlyOpen(true);\n  };\n\n  const handleCalendlyClose = () => {\n    setIsCalendlyOpen(false);\n  };\n\n  const handleEventScheduled = async (data) => {\n    // Envoyer les données à l'API pour l'email\n    try {\n      await fetch('/api/confirm-appointment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n    } catch (err) {\n      console.error('Erreur lors de l\\'envoi de la confirmation:', err);\n    }\n  };\n\n  useEffect(() => {\n    const handleOpenLegalModal = (e) => {\n      setLegalModalType(e.detail);\n      setIsLegalModalOpen(true);\n    };\n\n    window.addEventListener('openLegalModal', handleOpenLegalModal);\n    return () => {\n      window.removeEventListener('openLegalModal', handleOpenLegalModal);\n    };\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <main className={`main-content ${!results && !loading ? 'no-scroll' : ''}`}>\n        {loading ? (\n          <Loading url={analyzingUrl} />\n        ) : !results ? (\n          <div className=\"fade-in\">\n            <Form onSubmit={handleAnalyze} loading={loading} error={error} />\n          </div>\n        ) : (\n          <div className=\"fade-in\">\n            <Results data={results} onReset={handleReset} />\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}