{"ast":null,"code":"/**\n * Service pour récupérer et afficher le compteur social proof\n */import apiService from'./api';/**\n * Récupère les statistiques du compteur depuis l'API\n */async function getStats(){try{const response=await apiService.get('/api/stats',{cache:'no-cache'// Forcer la récupération des données à jour\n});if(!response.ok){throw new Error(\"Erreur HTTP \".concat(response.status));}const data=await response.json();console.log('[COUNTER] Stats reçues:',data);if(data.counter){return{total:data.counter.total||0,today:data.counter.today||0,formatted:data.counter.formatted||{total:formatNumber(data.counter.total||0),today:(data.counter.today||0).toString()}};}return{total:0,today:0,formatted:{total:'0',today:'0'}};}catch(error){console.error('[COUNTER] Erreur lors de la récupération des stats:',error);// Retourner des valeurs par défaut en cas d'erreur\nreturn{total:0,today:0,formatted:{total:'0',today:'0'}};}}/**\n * Formate un nombre pour l'affichage (ex: 1234 -> \"1.2k\")\n */function formatNumber(num){if(num<1000)return num.toString();if(num<1000000)return(num/1000).toFixed(1)+'k';return(num/1000000).toFixed(1)+'M';}const counterService={getStats,formatNumber};export default counterService;","map":{"version":3,"names":["apiService","getStats","response","get","cache","ok","Error","concat","status","data","json","console","log","counter","total","today","formatted","formatNumber","toString","error","num","toFixed","counterService"],"sources":["/Users/ares/DEV/Visibility strategy score/frontend/src/services/counter.js"],"sourcesContent":["/**\n * Service pour récupérer et afficher le compteur social proof\n */\n\nimport apiService from './api';\n\n/**\n * Récupère les statistiques du compteur depuis l'API\n */\nasync function getStats() {\n  try {\n    const response = await apiService.get('/api/stats', {\n      cache: 'no-cache' // Forcer la récupération des données à jour\n    });\n    \n    if (!response.ok) {\n      throw new Error(`Erreur HTTP ${response.status}`);\n    }\n    \n    const data = await response.json();\n    console.log('[COUNTER] Stats reçues:', data);\n    \n    if (data.counter) {\n      return {\n        total: data.counter.total || 0,\n        today: data.counter.today || 0,\n        formatted: data.counter.formatted || {\n          total: formatNumber(data.counter.total || 0),\n          today: (data.counter.today || 0).toString()\n        }\n      };\n    }\n    \n    return { total: 0, today: 0, formatted: { total: '0', today: '0' } };\n  } catch (error) {\n    console.error('[COUNTER] Erreur lors de la récupération des stats:', error);\n    // Retourner des valeurs par défaut en cas d'erreur\n    return { total: 0, today: 0, formatted: { total: '0', today: '0' } };\n  }\n}\n\n/**\n * Formate un nombre pour l'affichage (ex: 1234 -> \"1.2k\")\n */\nfunction formatNumber(num) {\n  if (num < 1000) return num.toString();\n  if (num < 1000000) return (num / 1000).toFixed(1) + 'k';\n  return (num / 1000000).toFixed(1) + 'M';\n}\n\nconst counterService = {\n  getStats,\n  formatNumber\n};\n\nexport default counterService;\n\n"],"mappings":"AAAA;AACA;AACA,GAEA,MAAO,CAAAA,UAAU,KAAM,OAAO,CAE9B;AACA;AACA,GACA,cAAe,CAAAC,QAAQA,CAAA,CAAG,CACxB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAF,UAAU,CAACG,GAAG,CAAC,YAAY,CAAE,CAClDC,KAAK,CAAE,UAAW;AACpB,CAAC,CAAC,CAEF,GAAI,CAACF,QAAQ,CAACG,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,gBAAAC,MAAA,CAAgBL,QAAQ,CAACM,MAAM,CAAE,CAAC,CACnD,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEH,IAAI,CAAC,CAE5C,GAAIA,IAAI,CAACI,OAAO,CAAE,CAChB,MAAO,CACLC,KAAK,CAAEL,IAAI,CAACI,OAAO,CAACC,KAAK,EAAI,CAAC,CAC9BC,KAAK,CAAEN,IAAI,CAACI,OAAO,CAACE,KAAK,EAAI,CAAC,CAC9BC,SAAS,CAAEP,IAAI,CAACI,OAAO,CAACG,SAAS,EAAI,CACnCF,KAAK,CAAEG,YAAY,CAACR,IAAI,CAACI,OAAO,CAACC,KAAK,EAAI,CAAC,CAAC,CAC5CC,KAAK,CAAE,CAACN,IAAI,CAACI,OAAO,CAACE,KAAK,EAAI,CAAC,EAAEG,QAAQ,CAAC,CAC5C,CACF,CAAC,CACH,CAEA,MAAO,CAAEJ,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,SAAS,CAAE,CAAEF,KAAK,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAI,CAAE,CAAC,CACtE,CAAE,MAAOI,KAAK,CAAE,CACdR,OAAO,CAACQ,KAAK,CAAC,qDAAqD,CAAEA,KAAK,CAAC,CAC3E;AACA,MAAO,CAAEL,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,SAAS,CAAE,CAAEF,KAAK,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAI,CAAE,CAAC,CACtE,CACF,CAEA;AACA;AACA,GACA,QAAS,CAAAE,YAAYA,CAACG,GAAG,CAAE,CACzB,GAAIA,GAAG,CAAG,IAAI,CAAE,MAAO,CAAAA,GAAG,CAACF,QAAQ,CAAC,CAAC,CACrC,GAAIE,GAAG,CAAG,OAAO,CAAE,MAAO,CAACA,GAAG,CAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAG,GAAG,CACvD,MAAO,CAACD,GAAG,CAAG,OAAO,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAG,GAAG,CACzC,CAEA,KAAM,CAAAC,cAAc,CAAG,CACrBrB,QAAQ,CACRgB,YACF,CAAC,CAED,cAAe,CAAAK,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}