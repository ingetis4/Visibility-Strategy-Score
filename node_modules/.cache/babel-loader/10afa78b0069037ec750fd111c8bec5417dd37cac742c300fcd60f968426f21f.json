{"ast":null,"code":"/**\n * Service pour récupérer et afficher le compteur social proof\n */// Utiliser l'URL de l'API depuis les variables d'environnement ou l'URL actuelle\nconst API_BASE_URL=process.env.REACT_APP_API_URL||'';/**\n * Récupère les statistiques du compteur depuis l'API\n */async function getStats(){try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/stats\"));if(!response.ok){throw new Error('Erreur lors de la récupération des stats');}const data=await response.json();return data.counter||{total:0,today:0,formatted:{total:'0',today:'0'}};}catch(error){console.error('[COUNTER] Erreur:',error);// Retourner des valeurs par défaut en cas d'erreur\nreturn{total:0,today:0,formatted:{total:'0',today:'0'}};}}/**\n * Formate un nombre pour l'affichage (ex: 1234 -> \"1.2k\")\n */function formatNumber(num){if(num<1000)return num.toString();if(num<1000000)return(num/1000).toFixed(1)+'k';return(num/1000000).toFixed(1)+'M';}const counterService={getStats,formatNumber};export default counterService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","getStats","response","fetch","concat","ok","Error","data","json","counter","total","today","formatted","error","console","formatNumber","num","toString","toFixed","counterService"],"sources":["/Users/ares/DEV/Visibility strategy score/frontend/src/services/counter.js"],"sourcesContent":["/**\n * Service pour récupérer et afficher le compteur social proof\n */\n\n// Utiliser l'URL de l'API depuis les variables d'environnement ou l'URL actuelle\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\n\n/**\n * Récupère les statistiques du compteur depuis l'API\n */\nasync function getStats() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/stats`);\n    if (!response.ok) {\n      throw new Error('Erreur lors de la récupération des stats');\n    }\n    const data = await response.json();\n    return data.counter || { total: 0, today: 0, formatted: { total: '0', today: '0' } };\n  } catch (error) {\n    console.error('[COUNTER] Erreur:', error);\n    // Retourner des valeurs par défaut en cas d'erreur\n    return { total: 0, today: 0, formatted: { total: '0', today: '0' } };\n  }\n}\n\n/**\n * Formate un nombre pour l'affichage (ex: 1234 -> \"1.2k\")\n */\nfunction formatNumber(num) {\n  if (num < 1000) return num.toString();\n  if (num < 1000000) return (num / 1000).toFixed(1) + 'k';\n  return (num / 1000000).toFixed(1) + 'M';\n}\n\nconst counterService = {\n  getStats,\n  formatNumber\n};\n\nexport default counterService;\n\n"],"mappings":"AAAA;AACA;AACA,GAEA;AACA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,EAAE,CAExD;AACA;AACA,GACA,cAAe,CAAAC,QAAQA,CAAA,CAAG,CACxB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIP,YAAY,cAAY,CAAC,CACzD,GAAI,CAACK,QAAQ,CAACG,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,0CAA0C,CAAC,CAC7D,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CAACE,OAAO,EAAI,CAAEC,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,SAAS,CAAE,CAAEF,KAAK,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAI,CAAE,CAAC,CACtF,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC;AACA,MAAO,CAAEH,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,SAAS,CAAE,CAAEF,KAAK,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAI,CAAE,CAAC,CACtE,CACF,CAEA;AACA;AACA,GACA,QAAS,CAAAI,YAAYA,CAACC,GAAG,CAAE,CACzB,GAAIA,GAAG,CAAG,IAAI,CAAE,MAAO,CAAAA,GAAG,CAACC,QAAQ,CAAC,CAAC,CACrC,GAAID,GAAG,CAAG,OAAO,CAAE,MAAO,CAACA,GAAG,CAAG,IAAI,EAAEE,OAAO,CAAC,CAAC,CAAC,CAAG,GAAG,CACvD,MAAO,CAACF,GAAG,CAAG,OAAO,EAAEE,OAAO,CAAC,CAAC,CAAC,CAAG,GAAG,CACzC,CAEA,KAAM,CAAAC,cAAc,CAAG,CACrBlB,QAAQ,CACRc,YACF,CAAC,CAED,cAAe,CAAAI,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}