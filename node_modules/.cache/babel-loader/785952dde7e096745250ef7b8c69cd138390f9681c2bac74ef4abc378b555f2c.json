{"ast":null,"code":"var _jsxFileName = \"/Users/ares/DEV/Visibility strategy score/frontend/src/components/CalendlyModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './CalendlyModal.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CALENDLY_URL = 'https://calendly.com/djerbi/audit-gratuite-pour-evaluer-vos-besoins';\nfunction CalendlyModal({\n  isOpen,\n  onClose,\n  onEventScheduled,\n  userData\n}) {\n  _s();\n  const [isConfirmed, setIsConfirmed] = useState(false);\n  useEffect(() => {\n    if (isOpen) {\n      // Charger le script Calendly si pas déjà chargé\n      if (!window.Calendly) {\n        const script = document.createElement('script');\n        script.src = 'https://assets.calendly.com/assets/external/widget.js';\n        script.async = true;\n        document.body.appendChild(script);\n      }\n\n      // Écouter les événements Calendly\n      window.addEventListener('message', handleCalendlyEvent);\n    }\n    return () => {\n      window.removeEventListener('message', handleCalendlyEvent);\n    };\n  }, [isOpen]);\n  const handleCalendlyEvent = e => {\n    if (e.data.event && e.data.event.indexOf('calendly') === 0) {\n      if (e.data.event === 'calendly.event_scheduled') {\n        setIsConfirmed(true);\n        // Envoyer les données à l'API après un court délai pour laisser Calendly terminer\n        setTimeout(() => {\n          if (onEventScheduled && userData) {\n            onEventScheduled(userData);\n          }\n        }, 2000);\n      }\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendly-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendly-modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"calendly-modal-close\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), !isConfirmed ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendly-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"calendly-modal-title\",\n            children: \"R\\xE9servez votre audit gratuit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"calendly-modal-subtitle\",\n            children: \"Choisissez un cr\\xE9neau qui vous convient pour discuter de vos r\\xE9sultats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendly-inline-widget\",\n          \"data-url\": CALENDLY_URL,\n          style: {\n            minWidth: '320px',\n            height: '700px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendly-confirmation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"confirmation-title\",\n          children: \"Rendez-vous confirm\\xE9 !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"confirmation-message\",\n          children: \"Merci ! Votre rendez-vous a \\xE9t\\xE9 enregistr\\xE9. Vous allez recevoir un email de confirmation de Calendly.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"confirmation-message\",\n          children: \"Nous vous enverrons \\xE9galement un r\\xE9capitulatif de votre analyse par email.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"confirmation-button\",\n          onClick: onClose,\n          children: \"Fermer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(CalendlyModal, \"N3VFPuRcJ40PRFFbWK80CzhoWOg=\");\n_c = CalendlyModal;\nexport default CalendlyModal;\nvar _c;\n$RefreshReg$(_c, \"CalendlyModal\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","CALENDLY_URL","CalendlyModal","isOpen","onClose","onEventScheduled","userData","_s","isConfirmed","setIsConfirmed","window","Calendly","script","document","createElement","src","async","body","appendChild","addEventListener","handleCalendlyEvent","removeEventListener","e","data","event","indexOf","setTimeout","className","onClick","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","style","minWidth","height","_c","$RefreshReg$"],"sources":["/Users/ares/DEV/Visibility strategy score/frontend/src/components/CalendlyModal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './CalendlyModal.css';\n\nconst CALENDLY_URL = 'https://calendly.com/djerbi/audit-gratuite-pour-evaluer-vos-besoins';\n\nfunction CalendlyModal({ isOpen, onClose, onEventScheduled, userData }) {\n  const [isConfirmed, setIsConfirmed] = useState(false);\n\n  useEffect(() => {\n    if (isOpen) {\n      // Charger le script Calendly si pas déjà chargé\n      if (!window.Calendly) {\n        const script = document.createElement('script');\n        script.src = 'https://assets.calendly.com/assets/external/widget.js';\n        script.async = true;\n        document.body.appendChild(script);\n      }\n\n      // Écouter les événements Calendly\n      window.addEventListener('message', handleCalendlyEvent);\n    }\n\n    return () => {\n      window.removeEventListener('message', handleCalendlyEvent);\n    };\n  }, [isOpen]);\n\n  const handleCalendlyEvent = (e) => {\n    if (e.data.event && e.data.event.indexOf('calendly') === 0) {\n      if (e.data.event === 'calendly.event_scheduled') {\n        setIsConfirmed(true);\n        // Envoyer les données à l'API après un court délai pour laisser Calendly terminer\n        setTimeout(() => {\n          if (onEventScheduled && userData) {\n            onEventScheduled(userData);\n          }\n        }, 2000);\n      }\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"calendly-modal-overlay\" onClick={onClose}>\n      <div className=\"calendly-modal-content\" onClick={(e) => e.stopPropagation()}>\n        <button className=\"calendly-modal-close\" onClick={onClose}>\n          ×\n        </button>\n        \n        {!isConfirmed ? (\n          <>\n            <div className=\"calendly-modal-header\">\n              <h2 className=\"calendly-modal-title\">Réservez votre audit gratuit</h2>\n              <p className=\"calendly-modal-subtitle\">\n                Choisissez un créneau qui vous convient pour discuter de vos résultats\n              </p>\n            </div>\n            <div \n              className=\"calendly-inline-widget\" \n              data-url={CALENDLY_URL}\n              style={{ minWidth: '320px', height: '700px' }}\n            />\n          </>\n        ) : (\n          <div className=\"calendly-confirmation\">\n            <div className=\"confirmation-icon\">✅</div>\n            <h2 className=\"confirmation-title\">Rendez-vous confirmé !</h2>\n            <p className=\"confirmation-message\">\n              Merci ! Votre rendez-vous a été enregistré. Vous allez recevoir un email de confirmation de Calendly.\n            </p>\n            <p className=\"confirmation-message\">\n              Nous vous enverrons également un récapitulatif de votre analyse par email.\n            </p>\n            <button className=\"confirmation-button\" onClick={onClose}>\n              Fermer\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CalendlyModal;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}